package dk.sundhedsdatastyrelsen.ncpeh.nationalconnector; import dk.sundhedsdatastyrelsen.ncpeh.ApiClient; import dk.sundhedsdatastyrelsen.ncpeh.api.DefaultApi; import java.net.URI; import java.net.URISyntaxException; public class CountryAService { static final String countryAHost = System.getenv().getOrDefault("NC_DK_COUNTRY_A_HOST", "http: static final DefaultApi api; static { try { final var uri = new URI(countryAHost); api = new DefaultApi(new ApiClient() .setScheme(uri.getScheme()) .setHost(uri.getHost()) .setPort(uri.getPort()) ); } catch (URISyntaxException e) { throw new IllegalArgumentException("Environment variable NC_DK_COUNTRY_A_HOST is not a valid URI"); } } public static DefaultApi api() { return api; } } 