package dk.sundhedsdatastyrelsen.ncpeh.cda; import lombok.Getter; import java.util.function.Function; public class Either<TLeft, TRight> { @Getter final TLeft left; @Getter final TRight right; final boolean isLeft; private Either(TLeft left, TRight right, boolean isLeft) { this.left = left; this.right = right; this.isLeft = isLeft; } public boolean isLeft() { return isLeft; } public boolean isRight() { return !isLeft; } public <U> U match(Function<TLeft, U> leftMapper, Function<TRight, U> rightMapper) { return isLeft() ? leftMapper.apply(left) : rightMapper.apply(right); } public static <TLeft, TRight> Either<TLeft, TRight> ofLeft(TLeft left) { return new Either<>(left, null, true); } public static <TLeft, TRight> Either<TLeft, TRight> ofRight(TRight right) { return new Either<>(null, right, false); } } 