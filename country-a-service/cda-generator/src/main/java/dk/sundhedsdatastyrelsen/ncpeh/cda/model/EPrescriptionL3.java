package dk.sundhedsdatastyrelsen.ncpeh.cda.model; import dk.sundhedsdatastyrelsen.ncpeh.cda.Utils; import lombok.Builder; import lombok.NonNull; import lombok.Value; import java.time.OffsetDateTime; import java.util.List; @Value @Builder(toBuilder = true) public class EPrescriptionL3 { @NonNull CdaId documentId; @NonNull String title; @NonNull CdaId prescriptionId; @NonNull OffsetDateTime effectiveTime; OffsetDateTime medicationStartTime; OffsetDateTime medicationEndTime; CdaCode administrationRoute; @NonNull Dosage dosage; @NonNull List<ActiveIngredient> activeIngredients; String unstructuredActiveIngredients; @NonNull Author author; @NonNull String indicationText; @NonNull Patient patient; @NonNull OffsetDateTime signatureTime; @NonNull CdaId parentDocumentId; @NonNull Product product; @NonNull Long packageQuantity; @NonNull Boolean substitutionAllowed; @NonNull String patientMedicationInstructions; public String getEffectiveTime() { return Utils.cdaDateTime(effectiveTime); } public OffsetDateTime getEffectiveTimeOffsetDateTime() { return effectiveTime; } public String getSignatureTime() { return Utils.cdaDateTime(signatureTime); } public String getPackageQuantity() { return Long.toString(packageQuantity); } public String getMedicationStartTime() { if (medicationStartTime != null) { return Utils.cdaDate(medicationStartTime); } return null; } public String getMedicationEndTime() { if (medicationEndTime != null) { return Utils.cdaDate(medicationEndTime); } return null; } public long getPackageQuantityLong() { return packageQuantity; } } 